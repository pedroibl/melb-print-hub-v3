import{r as c,j as e}from"./app-BE0YVVjn.js";import{L as j}from"./Layout-C88CYB4k.js";function y({emailConfig:r,testResults:b}){const[d,g]=c.useState({name:"",email:"",message:""}),[h,u]=c.useState(!1),[s,i]=c.useState(null),[a,o]=c.useState({}),p=async t=>{t.preventDefault(),u(!0),o({}),i(null);try{const n=await fetch("/email-testing/test",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(d)}),l=await n.json();n.ok?i(l):l.errors?o(l.errors):i({success:!1,message:l.message||"An error occurred"})}catch(n){i({success:!1,message:"Network error: "+n.message})}finally{u(!1)}},x=(t,n)=>{g(l=>({...l,[t]:n})),a[t]&&o(l=>({...l,[t]:null}))},m=t=>t==="Configured"||t==="smtp"?"text-green-600":t==="Not configured"||t==="log"?"text-red-600":"text-yellow-600";return e.jsxs(j,{title:"Email Testing",children:[e.jsx("section",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Email Testing Dashboard"}),e.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto",children:"Test email functionality on desktop and mobile platforms"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Email Configuration Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:"Mail Driver:"}),e.jsx("span",{className:m(r.mail_driver),children:r.mail_driver})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:"From Address:"}),e.jsx("span",{className:m(r.from_address),children:r.from_address})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:"From Name:"}),e.jsx("span",{className:"text-gray-600",children:r.from_name})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:"SMTP Host:"}),e.jsx("span",{className:"text-gray-600",children:r.smtp_host})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:"SMTP Port:"}),e.jsx("span",{className:"text-gray-600",children:r.smtp_port})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:"SMTP Username:"}),e.jsx("span",{className:m(r.smtp_username),children:r.smtp_username})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:"SMTP Password:"}),e.jsx("span",{className:m(r.smtp_password),children:r.smtp_password})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:"App Environment:"}),e.jsx("span",{className:"text-gray-600",children:r.app_env})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Testing Instructions:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"â€¢ Fill out the form on the right"}),e.jsx("li",{children:"â€¢ Submit to test email functionality"}),e.jsx("li",{children:"â€¢ Check your email for the test message"}),e.jsx("li",{children:"â€¢ Review the detailed results below"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Email Test Form"}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",value:d.name,onChange:t=>x("name",t.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${a.name?"border-red-500":"border-gray-300"}`,placeholder:"Your full name",required:!0}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",value:d.email,onChange:t=>x("email",t.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${a.email?"border-red-500":"border-gray-300"}`,placeholder:"your.email@example.com",required:!0}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Message *"}),e.jsx("textarea",{id:"message",value:d.message,onChange:t=>x("message",t.target.value),rows:4,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 ${a.message?"border-red-500":"border-gray-300"}`,placeholder:"Enter your test message here...",required:!0}),a.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.message})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",disabled:h,className:"bg-green-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed w-full",children:h?"Testing Email...":"Test Email Sending"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:"/email-testing/mobile-test",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ðŸ“± Test on Mobile Device"})})]})]}),s&&e.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Test Results"}),e.jsxs("div",{className:`p-6 rounded-lg ${s.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[s.success?e.jsx("svg",{className:"w-6 h-6 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-6 h-6 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e.jsx("h3",{className:`text-lg font-semibold ${s.success?"text-green-800":"text-red-800"}`,children:s.success?"Test Successful":"Test Failed"})]}),e.jsx("p",{className:`mb-4 ${s.success?"text-green-700":"text-red-700"}`,children:s.message}),s.details&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Test Details:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Platform:"})," ",s.details.platform]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"IP Address:"})," ",s.details.ip]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact Message ID:"})," ",s.details.contact_message_id]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email Sent:"})," ",s.details.email_sent?"Yes":"No"]})]}),s.details.user_agent&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"font-medium",children:"User Agent:"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 break-all",children:s.details.user_agent})]})]}),s.details?.email_content&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Email Content:"}),e.jsx("pre",{className:"bg-gray-100 p-4 rounded text-xs overflow-x-auto",children:s.details.email_content})]}),s.details?.error&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Error Details:"}),e.jsx("pre",{className:"bg-red-50 p-4 rounded text-xs text-red-700 overflow-x-auto",children:s.details.error})]})]})]})]})]})}export{y as default};
